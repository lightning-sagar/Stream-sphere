<style>
.shortcut-links a {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    width: fit-content;
    padding: 10px; /* Add some padding for better clickability */
    flex-wrap: wrap;
    margin-top: 13px;
    position: relative; /* For the border positioning */
}

.shortcut-links a.active {
    border-left: 4px solid #ef73ff;  
    color: #000;  
}

    *{
        margin: 0;
        padding: 0;
        font-family: 'Poppins', sans-serif;
        box-sizing: border-box;
    }
    a{
        text-decoration: none;
        color: #4a4a4a; /* Dark text color */
    }
    
    img{
        cursor: pointer;
    }
    
    .flex-div{
        display: flex;
        align-items: center;
    }
    
    nav{
        padding: 0px 2%;
        justify-content: space-between;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        background: #fff;
        position: sticky;
        top: 0;
        z-index: 10;
    }
    
    .nav-right img{
        width: 25px;
        margin-right: 25px;
    }
    
    .nav-right .user-icon{
        width: 35px;
        margin-right: 0px;
        border-radius: 50%;
    }
    
    .nav-left .menu-icon{
        width: 22px;
        margin-right: 25px;
    }
    
    .nav-left .logo{
        width: 130px;
    }
    
    .nav-middle .mic-icon{
        width: 16px;
    }
    .nav-middle .search-box{
        border: 1px solid #ccc;
        margin-right: 15px;
        padding: 8px 12px;
    }
    
    .nav-middle .search-box input{
        width: 400px;
        border: 0;
        outline: 0;
        background: transparent;
    }
    .nav-middle .search-box img{
        width: 15px;
    }
    
    /* Sidebar*/
    .sidebar {
    background: #0e0f0f;
    /* box-shadow: 0 2px 4px rgba(216, 213, 213, 0.423); */
    position: fixed;
    left: 0;
    top: 40px;
    width: 84px;
    height: 100vh;
    position: fixed;
    padding-left: 2%;
    margin-top: 68px;
}
.sidebar {
    background: #0e0f0f;
    position: -webkit-sticky; /* For Safari */
    position: sticky;
    top: 40px; /* It will stay 40px below the top of the viewport */
    height: calc(100vh - 50px); /* Ensures the sidebar occupies the full height minus the top offset */
    padding-left: 2%;
    margin-top: 68px;
}

    
    .shortcut-links a img{
        width: 20px;
        margin-right: 20px;
    }
 
    
    .shortcut-links a:first-child{
        color: #000000; /* Red color */
    }
    
    .sidebar hr{
        border: 0;
        height: 1px;
        background: #ccc;
        width: 85%;
        margin-left: -10px;
    }
    
    .subscribed-list h3{
        font-size: 13px;
        margin: 20px 0;
        color: #4a4a4a; /* Dark text color */
    }
    
    .subscribed-list a{
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        width: fit-content;
        flex-wrap: wrap;
    }
    
    .subscribed-list a img{
        width: 25px;
        border-radius: 50%;
        margin-right: 28px;
    }
    
    .small-sidebar{
        width: 5%;
    }
    .small-sidebar .shortcut-links a p  , .small-sidebar .subscribed-list a , .small-sidebar h3{
        display: none;
    }
    
    .small-sidebar hr{
        width: 50%;
        margin-bottom: 25px;
        display: none;
    }
    
    .sidebar .shortcut-links a i {
        font-size: 19px; /* Increased icon size */
        color: #bcafaf; /* Existing icon color */
        display: block; /* Centers the icon */
    }

     


    /* Main Body */
    .container{
    margin-top: 40px;

        background: #0e0f0f; /* White background */
        padding-left: 3%;
        margin-right: 0;
        padding-bottom: 68px;
    }
    .large-container{
        padding-left: 7%; 
    }
    .banner{
        width: 100%;
        display: none;
    }
    
    .banner img{
        width: 100%;
        border-radius: 8px;
    }
    
    .list-container{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        grid-column-gap: 16px;
        grid-row-gap: 30px;
        margin-top: 15px;
    }
    
    .vid-list .thumbnail{
        width: 100%;
        border-radius: 5px;
    }
    .vid-list .flex-div{
        align-items: flex-start;
        margin-top: 7px;
    }
    
    .vid-list .flex-div img{
        width: 35px;
        margin-right: 10px;
        border-radius: 50%;
    }
    
    .vid-info{
        color: #4a4a4a; /* Dark text color */
        font-size: 13px;
    }
    
    .vid-info a{
        color: #000; /* Black color */
        font-weight: 600;
        display: block;
        margin-bottom: 5px;
    }
    
    @media (max-width: 900px) {
        .menu-icon{
            display: none;
        }
    
        .sidebar{
            display: none;
        } 
    
        .container, .large-container{
            padding-left: 5%;
            padding-right: 5%;   
        }
    
        .nav-right .user-icon{
            display: block;
            width: 30px;
        }
    
        .nav-middle .search-box {
            width: 100px;
            display: none;
        }
    
        .nav-middle .mic-icon{
            display: none;
        }
    
        .logo{
            width: 90px;
        }
    }
    .text-center{
        margin-left: 15px;
        text-align: center;
        margin-bottom: 0!important;
    }
    .logo{
        justify-self: center;
    }
    .margin{
        margin-top: 25%!important;
    }

</style>
<div class="sidebar">
    <div class="shortcut-links">
        <% if(currentUser){ %>
            <div class="text-center pt-3 pb-3">
                <a href="/" class="shortcut-btn">
                    <i class="fa-solid fa-home home-icon"></i>
                </a>
            </div>
            <div class="text-center pt-3 pb-3">
                <a href="/user/<%= req.user._id %>/upload" class="shortcut-btn">
                    <i class="fa-solid fa-upload upload-icon"></i>
                </a>
            </div>
            <div class="text-center pt-3 pb-3">
                <a href="/t/<%= req.user._id %>" class="shortcut-btn">
                    <i class="fa-solid fa-comments comment-icon"></i>
                </a>
            </div>
            <div class="text-center pt-3 pb-3">
                <a href="/user/<%= req.user._id %>/subscribed" class="shortcut-btn">
                    <i class="fa-brands fa-youtube sub-icon"></i>
                </a>
            </div>
        <% } else { %>
            <div class="text-center pt-3 pb-3">
                <a href="/" class="shortcut-btn">
                    <i class="fa-solid fa-home home-icon"></i>
                </a>
            </div>
            <div class="text-center pt-4 pb-3">
                <a href="/login" class="shortcut-btn">
                    <i class="fa-solid fa-upload"></i>
                </a>
            </div>
        <% } %>
    </div>  
</div>

<script>
    window.addEventListener("load", function() {
        window.scrollTo({
            top: 500, // Adjust this value to scroll to the desired position
            behavior: "smooth" // Enables smooth scrolling
        });
    });
    window.addEventListener("scroll", function() {
    const sidebar = document.querySelector('.sidebar');
    const container = document.querySelector('.container');

    const scrollY = window.scrollY || document.documentElement.scrollTop;

    // Use sticky instead of fixed to avoid overlap and better behavior.
    if (scrollY > 10) { // Adjust the value as needed
        sidebar.style.top = "30px";
    } else {
        sidebar.style.top = "80px"; // Adjust the offset if needed
    }

    // Handle shortcut button active state
    const buttons = document.querySelectorAll('.shortcut-btn');

    // Function to activate a button
    const activateButton = (button) => {
        buttons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
    };

    const activeUrl = localStorage.getItem('activeButton');

    if (activeUrl) {
        const activeButton = [...buttons].find(btn => btn.href === activeUrl);
        if (activeButton) {
            activateButton(activeButton);
        }
    }

    buttons.forEach(button => {
        button.addEventListener('click', function() {
            localStorage.setItem('activeButton', this.href);
            activateButton(this);
        });
    });
});

 

</script>